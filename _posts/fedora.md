# Mis problemas con Fedora

Escribo este texto para acordarme de por qué no me gustó Fedora, cuando inevitablemente me vaya y olvide los problemas que tenía. La versión que uso es Fedora Workstation 32, que tiene GNOME 3.36. Uso algunas extensiones, pero no muchas, intento mantener más o menos la "experiencia gnome" que viene por defecto.

Mi computador es un Macbook Pro 8.1 (13 pulgadas, finales de 2011), con un Intel i5-2415M y sus gráficas integradas.

## Gestión de Paquetes

Lejos lo peor de Fedora es la gestión de paquetes. Se usa el gestor dnf sobre el sistema rpm, que es el sistema más malo que he probado. Todo es lento. Instalar paquetes, actualizarlos, actualizar los datos de los repositorios. Sobre todo eso último, es ridículo cuánto se demora, y cada repositorio adicional que se agrega hace que se demore más tiempo. Yo tengo, además de los +-3 que tienen con Fedora, RPMFusion (que está separado en varios porque no era suficientemente lento todo ya), el repositorio de vscode y el repositorio de Virtualbox. Si tuviera Docker tendría que añadir otro repositorio más.

Algo que se combina con la lentitud del sistema es que las decisiones que han tomado los diseñadores de DNF son de las más weonas que se pueden encontrar. Por ejemplo, el momento en que DNF decide que necesita actualizar el caché de sus repositorios es justo cuando busco un programa (cuando hago un DNF search). El resultado de esto es que en el 90% de los casos es más rápido abrir Firefox, tipear pkgs.io, seleccionar Fedora de entre la lista y buscar el paquete en el que estoy interesado que buscarlo usando las herramientas que tengo en mi propio computador.

Lo que hace a este comportamiento aún más raro, es que además el computador corre actualizaciones a cada rato. En general cuando lo abro nunca falta el uso del 100% de un núcleo de CPU por parte de packagekit, lo cual dura sus buenos 10 minutos así, y distrae cuando uno quiere ponerse a trabajar en algo. Pero parece que esos 10 minutos son sólo para actualizar los flatpaks, de los que tengo una cantidad bastante más alta de lo que encontraría razonable para un sistema que pretende ser autocontenido. Uso unas 5 a 10 aplicaciones como Flatpak (Spotify, Discord, Zoom, no sé qué más pero hay varias) pero lo que me dice neofetch que tengo son 63 flatpaks instalados, además de los 6000 rpms instalados. Yo no quería seguir webeando con que el minimalismo y qué sé yo, pero esto me parece ridículo y tiene consecuencias apreciables en ruido y vida de la batería.

Por último, una cosa que no me parece en verdad tan terrible pero es un poco regresiva en comparación a las otras distros es que GNOME Software (el front-end para rpm/dnf/packagekit que Fedora recomienda que uno use diariamente) te obliga a reiniciar el computador para instalar las actualizaciones. Aunque sea simplemente un parche para una aplicación. Yo creo que es una forma de promover Flatpak, pero me veo bastante perjudicado por ella, y me hace extrañar los sistemas que no tienen incentivos no alineados con los míos.

## Bleeding Edge

Fedora está muy actualizado en general. El software está solo un poco más atrás que el que se encuentra en Arch, a veces salen incluso antes algunas actualizaciones si se alinean bien con el cambio de versión del SO. Esto no es algo que sea malo *per se*, pero significa que la estabilidad de los workflows no es la mejor. Cualquiera que diga que Fedora es una distro estable está mintiendo o usando una definición de "estable" distinta de la que me refiero en este momento, que es que los programas que usas no van a dejar de funcionar, y no vas a tener problemas de software en general. Es simplemente imposible con una distro tan actualizada, no es un problema que sea arreglable con mucho esfuerzo o muy buen diseño por parte de Fedora. Es natural que ciertas versiones de librerías sean incompatibles con ciertas versiones de programas.

Hace poco me pasó que quería instalar VirtualBox para corregir las pruebas y tareas de PSS y arqui. Lo instalé de los repositorios oficiales y no funcionaba. Busqué en internet y no encontré fácilmente lo que buscaba, pero al final caché que el problema era que mi versión de Linux era muy nueva y por lo tanto incompatible con incluso la última versión de VirtualBox (para encontrar esta info tuve que leer un montón de blogs y cosas que describían procedimientos obsoletos y similar, no es un ecosistema tan bueno/actualizable como el que se encuentra en ubuntu/arch). Afortunadamente no tenía apuro, así que mi solución fue simplemente esperar a que saliera una nueva versión de VBox. Ahora le tengo miedo a actualizar a Fedora 33, que ya salió hace como medio mes y me llegan notificaciones de "Hay una nueva versión de Fedora!".

Nota: Muchas de las sugerencias que encontré eran básicamente cambiarse a qemu con gnome-boxes o similar, lo cual intenté y no funcionó. Cada vez que abro gnome-boxes se cierra solo. Al parecer el problema es de libvirt. Es una situación bastante deficiente para un programa que viene en la instalación por defecto. Pero fuera de las críticas a Boxes, el problema está en actualizar Linux aún cuando no hay versión de VirtualBox que funcione, y que la respuesta a "esto no funciona" sea "usa esto otro". Lo mismo pasa, entiendo, con Docker, que deja de funcionar en cada actualización de Fedora.

## Configuración "Out of the Box"

La idea de cambiarme de Arch para acá era que sería un sistema más usable Out of the Box, que los 6000 paquetes que tengo instalados servirían de algo, las cosas "mágicas" como las que uno encuentra en sistemas operativos de bigcorps estarían acá. Después de todo, Fedora es de IBM ahora, que es la definición original de software bigcorp.

Desafortunadamente la cosa no es tan así, es mucho más visible el componente "Beta de Red Hat" que el de "Sistema Operativo con polish" en mi experiencia. Aunque es cierto que la instalación es más fácil que la de Arch (obvio) la cosa después no resulta tan bien hecha. Tengo problemas de Tearing en la sesión xorg de gnome, que en ocasiones me veo obligado a usar (porque Wine funciona mejor, o porque webGL funciona mal en Firefox en Wayland) y una versión en xorg que funcionara bien sin tener que meterle mano era justamente lo que buscaba. Se entiende que quieren hacer la migración a Wayland, y es lo que uso la mayoría del tiempo, pero **Fedora tiene una mentalidad demasiado Apple** en este sentido: si no te gusta como lo hacemos nosotros es problema tuyo, incluso si lo hacíamos así hace 2 años o menos.

Y es que muchas de las cosas que promueve Red Hat no están realmente terminadas. Por ejemplo: el ecosistema Wayland, aunque usable y en ciertos sentidos muy cómodo, deja que desear. Hay cosas como compartir pantalla o push-to-talk que no están muy terminadas y pueden ser realmente esenciales para ciertas personas. Lo mismo con Flatpak, que en ocasiones es la única alternativa real que uno tiene para instalar ciertos softwares en Fedora. Además está Pipewire, que busca reemplazar a un montón de cosas, pero el único efecto que veo en mi computador gracias a que esté instalado es que cada cierto tiempo me sale una notificación de que crasheó. Pero de no ser por esas notificaciones no me enteraría, no tengo idea de qué está haciendo.

